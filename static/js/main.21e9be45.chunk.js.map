{"version":3,"sources":["withMapData.js","LeafletMap.js","pins.js","city-info.js","VideoPlayer.js","MapGlMap.js","App.js","serviceWorker.js","index.js","assets/marker-shadow.png","logo.svg"],"names":["pointerIcon","url","L","Icon","iconUrl","iconRetinaUrl","iconAnchor","popupAnchor","iconSize","shadowUrl","require","shadowSize","shadowAnchor","suitcasePoint","withMapData","MapComponent","MyPopupMarker","content","position","image","Marker","icon","indexOf","Popup","MyMarkersList","items","markers","map","key","props","CITIES","it","latitude","longitude","city","state","this","Component","lat","lng","zoom","SwitchMap","arg","switchMapEngine","name","children","restProps","center","onBaselayerchange","LayersControl","BaseLayer","checked","TileLayer","attribution","Pins","data","onClick","index","style","backgroundImage","backgroundSize","width","height","cursor","React","PureComponent","poster","src","playsInline","fluid","geolocateStyle","top","left","padding","fullscreenControlStyle","navStyle","scaleControlStyle","bottom","MapGlMap","viewport","bearing","pitch","localIdeographFontFamily","popupInfo","_updateViewport","setState","_onClickMarker","tipSize","anchor","offsetLeft","offsetTop","closeOnClick","onClose","VideoPlayer","onViewportChange","mapboxApiAccessToken","process","_renderPopup","App","mapType","handleClick","then","moduleA","alert","catch","err","renderMap","className","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","error","ReactDOM","render","document","getElementById","URL","href","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.21e9be45.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Marker, Popup } from \"react-leaflet\";\n\nimport CITIES from \"./data/cities.json\";\nimport L from \"leaflet\";\n\nexport const pointerIcon = (url = \"./assets/pointerIcon.svg\") => new L.Icon({\n  iconUrl: url,\n  iconRetinaUrl: url,\n  iconAnchor: [5, 55],\n  popupAnchor: [10, -44],\n  iconSize: [60, 40],\n  shadowUrl: require(\"./assets/marker-shadow.png\"),\n  shadowSize: [68, 95],\n  shadowAnchor: [20, 92],\n});\n\nexport const suitcasePoint = (url = \"./assets/suitcaseIcon.svg\") => new L.Icon({\n  iconUrl: url,\n  iconRetinaUrl: url,\n  iconAnchor: [20, 40],\n  popupAnchor: [0, -35],\n  iconSize: [60, 40],\n  shadowUrl: require(\"./assets/marker-shadow.png\"),\n  shadowSize: [29, 40],\n  shadowAnchor: [7, 40],\n});\n\nexport default function withMapData(MapComponent) {\n  const MyPopupMarker = ({ content, position, image }) => (\n    <Marker\n      position={position}\n      icon={content.indexOf(\" \") !== -1 ? pointerIcon(image) : suitcasePoint(image)}\n    >\n      <Popup>{content}</Popup>\n    </Marker>\n  );\n\n  const MyMarkersList = ({ markers }) => {\n    const items = markers.map(({ key, ...props }) => (\n      <MyPopupMarker key={key} {...props} />\n    ));\n    return <>{items}</>;\n  };\n\n  class withMapData extends Component {\n    constructor(props) {\n      super(props);\n      let markers = CITIES.map((it) => {\n        it.position = [it.latitude, it.longitude];\n        it.content = it.city;\n        it.key = it.city;\n        return it;\n      });\n      this.state = {\n        markers,\n      };\n    }\n    // state = {\n    //   markers: [\n    //     { key: \"marker1\", position: [51.5, -0.1], content: \"My first popup\" },\n    //     { key: \"marker2\", position: [51.51, -0.1], content: \"My second popup\" },\n    //     { key: \"marker3\", position: [51.49, -0.05], content: \"My third popup\" },\n    //   ],\n    // };\n    render() {\n      return (\n        <MapComponent {...this.props}>\n          <MyMarkersList markers={this.state.markers} />\n        </MapComponent>\n      );\n    }\n  }\n\n  return withMapData;\n}\n","import React, { Component } from 'react';\nimport { Map as LeafletMap, TileLayer, Marker, Popup, \n  LayersControl, FeatureGroup, Circle\n} from 'react-leaflet';\n\nimport './LeafletMap.scss';\n\nimport withLeafletPane from './withLeafletPane';\nimport withLeafletMapType from './withLeafletMapType';\nimport withMapData from './withMapData';\n\nexport class LMap extends Component {\n  state = {\n    lat: 37.785164,\n    lng: -100,\n    zoom: 3.5\n  }\n\n  SwitchMap = (arg) => {\n    // console.log(arg);\n    this.props.switchMapEngine && this.props.switchMapEngine(arg.name);\n  }\n\n  render() {\n    const position = [this.state.lat, this.state.lng];\n    const {children, ...restProps} = this.props;\n    return (\n      <LeafletMap center={position} zoom={this.state.zoom} {...restProps} onBaselayerchange={this.SwitchMap}>\n        <LayersControl position=\"topleft\">\n          <LayersControl.BaseLayer name=\"Leaflet\" checked>\n            <TileLayer\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\"\n            />\n          </LayersControl.BaseLayer>\n          <LayersControl.BaseLayer name=\"MapGl\">\n            <TileLayer\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png\"\n            />\n          </LayersControl.BaseLayer>\n          <LayersControl.BaseLayer name=\"高德\">\n            <TileLayer\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n          </LayersControl.BaseLayer>\n          {/* <LayersControl.Overlay name=\"Marker with popup\" checked>\n            <Marker position={position}>\n              <Popup>\n                A pretty CSS3 popup. <br /> Easily customizable.\n              </Popup>\n            </Marker>\n          </LayersControl.Overlay>\n          <LayersControl.Overlay name=\"Feature group\">\n            <FeatureGroup color=\"purple\">\n              <Popup>\n                <span>Popup in FeatureGroup</span>\n              </Popup>\n              <Circle center={[51.51, -0.06]} radius={200} />\n            </FeatureGroup>\n          </LayersControl.Overlay> */}\n        </LayersControl>\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\"\n        />\n        {children}\n      </LeafletMap>\n    );\n  }\n}\n\nexport default withMapData(LMap);","import React from 'react';\nimport {Marker} from 'react-map-gl';\n\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\n\nconst SIZE = 20;\n\nconst geojson = {\n  type: \"FeatureCollection\",\n  features: [\n    {\n      type: \"Feature\",\n      properties: {\n        message: \"Foo\",\n        iconSize: [60, 60],\n      },\n      geometry: {\n        type: \"Point\",\n        coordinates: [121.324462890625, 29.024695711685304],\n      },\n    },\n    {\n      type: \"Feature\",\n      properties: {\n        message: \"Bar\",\n        iconSize: [50, 50],\n      },\n      geometry: {\n        type: \"Point\",\n        coordinates: [119.2158203125, 31.97189158092897],\n      },\n    },\n    {\n      type: \"Feature\",\n      properties: {\n        message: \"Baz\",\n        iconSize: [40, 40],\n      },\n      geometry: {\n        type: \"Point\",\n        coordinates: [120.29223632812499, 31.28151823530889],\n      },\n    },\n  ],\n};\n\n// Important for perf: the markers never change, avoid rerender when the map viewport changes\nexport default class Pins extends React.PureComponent {\n  render() {\n    const {data, onClick} = this.props;\n\n    return data.map((city, index) => (\n      <Marker key={`marker-${index}`} longitude={city.longitude} latitude={city.latitude}>\n\t\t\t\t<div style={{backgroundImage: `url(${city.image})`,backgroundSize: 'cover', width: '60px', height: '45px', cursor: 'pointer'}}\n\t\t\t\t\tonClick={() => onClick(city)}\n\t\t\t\t></div>\n        {/* <svg\n          height={SIZE}\n          viewBox=\"0 0 24 24\"\n          style={{\n            cursor: 'pointer',\n            fill: '#d00',\n            stroke: 'none',\n            transform: `translate(${-SIZE / 2}px,${-SIZE}px)`\n          }}\n          onClick={() => onClick(city)}\n        >\n          <path d={ICON} />\n        </svg> */}\n      </Marker>\n    ));\n  }\n}\n","import React from 'react';\n\nexport default class CityInfo extends React.PureComponent {\n  render() {\n    const {info} = this.props;\n    const displayName = `${info.city}, ${info.state}`;\n\n    return (\n      <div>\n        <div>\n          {displayName} |{' '}\n          <a\n            target=\"_new\"\n            href={`http://en.wikipedia.org/w/index.php?title=Special:Search&search=${displayName}`}\n          >\n            Wikipedia\n          </a>\n        </div>\n        <img width={240} src={info.image} alt={`${info.city} ${info.state}`} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Player, LoadingSpinner } from \"video-react\";\n\nexport default ({ poster = \"/assets/poster.png\", src = \"https://media.w3.org/2010/05/sintel/trailer_hd.mp4\"}) => {\n  return (\n    <Player playsInline poster={poster} src={src} fluid={false} width={300}>\n      <LoadingSpinner />\n    </Player>\n  );\n};\n","import React, { Component } from \"react\";\nimport MapGL, {Popup, Marker, NavigationControl, ScaleControl, FullscreenControl, GeolocateControl} from \"react-map-gl\";\n\nimport Pins from './pins';\nimport CityInfo from './city-info';\nimport CITIES from './data/cities.json';\nimport VideoPlayer from './VideoPlayer';\n\nconst geolocateStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  padding: '10px'\n};\n\nconst fullscreenControlStyle = {\n  position: 'absolute',\n  top: 36,\n  left: 0,\n  padding: '10px'\n};\n\nconst navStyle = {\n  position: 'absolute',\n  top: 72,\n  left: 0,\n  padding: '10px'\n};\n\nconst scaleControlStyle = {\n  position: 'absolute',\n  bottom: 36,\n  left: 0,\n  padding: '10px'\n};\n\nexport default class MapGlMap extends Component {\n  state = {\n\t\tviewport: {\n\t\t\tlatitude: 37.785164,\n\t\t\tlongitude: -100,\n\t\t\tbearing: 0,\n\t\t\tpitch: 0,\n      zoom: 3.5,\n      localIdeographFontFamily: \"'Noto Sans', 'Noto Sans CJK SC', sans-serif\"\n\t\t},\n\t\tpopupInfo: null\n  }\n\n  _updateViewport = viewport => {\n    this.setState({viewport});\n  };\n\n  _onClickMarker = city => {\n    this.setState({popupInfo: city});\n  };\n\n  _renderPopup() {\n    const {popupInfo} = this.state;\n\n    return (\n      popupInfo && (\n        <Popup\n          tipSize={5}\n          anchor=\"top\"\n          offsetLeft={30}\n          offsetTop={50}\n          longitude={popupInfo.longitude}\n          latitude={popupInfo.latitude}\n          closeOnClick={false}\n          onClose={() => this.setState({popupInfo: null})}\n        >\n          {/* <CityInfo info={popupInfo} /> */}\n\t\t\t\t\t{/* <video className=\"video-react-video\" preload=\"auto\" playsInline={true} src=\"https://media.w3.org/2010/05/sintel/trailer_hd.mp4\" tabIndex=\"-1\" crossOrigin=\"anonymous\" style={{width: 200, height: 150}}></video> */}\n          <VideoPlayer />\n        </Popup>\n      )\n    );\n  }\n\n  render() {\n    const {viewport} = this.state;\n\n    return (\n      <MapGL\n        {...viewport}\n        width=\"100vw\"\n        height=\"100vh\"\n        // mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n        onViewportChange={this._updateViewport}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n      >\n        <Pins data={CITIES} onClick={this._onClickMarker} />\n\n        {this._renderPopup()}\n\n        <div style={geolocateStyle}>\n          <GeolocateControl />\n        </div>\n        <div style={fullscreenControlStyle}>\n          <FullscreenControl />\n        </div>\n        <div style={navStyle}>\n          <NavigationControl />\n        </div>\n        <div style={scaleControlStyle}>\n          <ScaleControl />\n        </div>\n\n      </MapGL>\n    );\n  }\n}","// @flow\nimport React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.scss\";\n\nimport LeafletMap from \"./LeafletMap\";\nimport MapGlMap from \"./MapGlMap\";\n// import AMap from './AMap';\n\nclass App extends React.Component {\n  state = {\n    mapType: 'Leaflet'\n  };\n  handleClick = () => {\n    import(\"./components/moduleA\")\n      .then(({ moduleA }) => {\n        // Use moduleA\n        alert(moduleA);\n      })\n      .catch((err) => {\n        // Handle failure\n      });\n  };\n\n  switchMapEngine = (mapType) => {\n    this.setState({\n      mapType\n    })\n  }\n\n  renderMap = () => {\n    switch(this.state.mapType) {\n      case 'Leaflet': \n        return <LeafletMap switchMapEngine={this.switchMapEngine} />;\n      case 'MapGl':\n        return <MapGlMap switchMapEngine={this.switchMapEngine}/>;\n      case 'AMap':\n        return;\n      default:\n        return null;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/* <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" onClick={handleClick} />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header> */}\n        {this.renderMap()}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}